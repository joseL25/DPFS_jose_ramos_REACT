<!DOCTYPE html>
<html lang="en">
    <%- include('../partials/head.ejs',{style:"register"}) %>
<body>
    <div class="container">  
        <div class="form-container">  
            <div class="avatar-profile">
                <div class="avatar-image">
                    <img src="/images/avatar/default-user.png" alt="default">
                </div>
                <div class="avatar-search">
                    <a href="#">
                        <i class="fa-solid fa-camera"></i>
                    </a>
                </div>
            </div>
            <!-- <h1>Bienvenido</h1>   -->
            <p>Ingrese sus datos para usar las funciones del sitio</p>
            <ul class="errors"></ul>
            <form action="/users/register" method="post" enctype="multipart/form-data" id="formulario" novalidate>  

                <div class="name-lastName">
                    <div class="input-text">
                        <input type="text" 
                        name="name" 
                        id="name" 
                        placeholder="nombre" 
                        value="<%= locals.old?.name ? old.name : "" %>" 
                        required autocomplete="off">

                        <!-- <div class="error" id="errorName"></div> -->
                        <% if (locals.errors?.name) { %>
                            <p class="error"><%= locals.errors.name.msg %></p>
                        <% } %> 
                    </div>
                    <div class="input-text">
                        <input type="text" 
                        name="lastname" 
                        id="lastname" 
                        placeholder="apellido" 
                        value="<%= locals.old?.lastname ? old.lastname : "" %>" 
                        required autocomplete="off">

                        <!-- <div class="error" id="errorLastname"></div> -->
                        <% if (locals.errors?.lastname) { %>
                            <p class="error"><%= locals.errors.lastname.msg %></p>
                        <% } %> 
                    </div>
                </div>

                <div class="inputEmail">
                    <label for="email">Correo</label>  
                    <input type="email" 
                    name="email" 
                    id="email" 
                    placeholder="Ingrese su correo" 
                    value="<%= locals.old?.email ? old.email : "" %>" 
                    required autocomplete="off"> 

                    <!-- <div class="error" id="errorEmail"></div> -->
                    <% if (locals.errors?.email) { %>
                        <p class="error"><%= locals.errors.email.msg %></p>
                    <% } %> 
                </div>
                
                <div class="inputPassword">
                    <label for="password">Contraseña</label>  
                    <input type="password" 
                    name="password" 
                    id="password" 
                    placeholder="Ingrese su contraseña"
                    value="<%= locals.old?.password ? old.password : "" %>">

                    <!-- <div class="error" id="errorPassword"></div> -->
                    <% if (locals.errors?.password) { %>
                        <p class="error"><%= locals.errors.password.msg %></p>
                    <% } %> 
                </div>

                <div>
                    <label for="image">Foto de Perfil</label>
                    <input type="file" name="image" id="image">
                </div>
                
                <input type="submit" class="register-button" value="Registrarse">  
            </form>  

            <div class="options">
                <div class="login">
                    <a href="/users/login">Iniciar Sesion</a>
                </div>
                <div>
                    <a href="/">Volver al Inicio</a>
                </div>
            </div>
        </div>
    </div>
    <!-- Script JS -->
    <script src="https://unpkg.com/validator@latest/validator.min.js"></script>
    <script src="/js/validaciones/register.js"></script>
</body>
</html>